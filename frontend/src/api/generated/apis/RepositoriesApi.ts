/* tslint:disable */
/* eslint-disable */
/**
 * SpecFlux API
 * REST API for SpecFlux - AI-Powered Multi-Repo Development Orchestrator.  SpecFlux transforms \"vibe coding\" into disciplined, spec-driven engineering by providing: - Unified Kanban board for multi-repo project management - Automatic Claude Code agent launching with context injection - Human-in-the-loop approval workflows  ## Authentication All API endpoints (except health checks and documentation) require Firebase JWT authentication. Include the Firebase ID token in the `Authorization` header as a Bearer token.  ## Error Responses All endpoints return consistent error responses with `code`, `message`, and optional `details` fields.
 *
 * The version of the OpenAPI document: 1.0.0
 *
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

import * as runtime from "../runtime";
import type {
  CreateRepositoryRequest,
  ErrorResponse,
  Repository,
  RepositoryListResponse,
  UpdateRepositoryRequest,
} from "../models/index";
import {
  CreateRepositoryRequestFromJSON,
  CreateRepositoryRequestToJSON,
  ErrorResponseFromJSON,
  ErrorResponseToJSON,
  RepositoryFromJSON,
  RepositoryToJSON,
  RepositoryListResponseFromJSON,
  RepositoryListResponseToJSON,
  UpdateRepositoryRequestFromJSON,
  UpdateRepositoryRequestToJSON,
} from "../models/index";

export interface CreateRepositoryOperationRequest {
  projectRef: string;
  createRepositoryRequest: CreateRepositoryRequest;
}

export interface DeleteRepositoryRequest {
  projectRef: string;
  repoRef: string;
}

export interface GetRepositoryRequest {
  projectRef: string;
  repoRef: string;
}

export interface ListRepositoriesRequest {
  projectRef: string;
}

export interface UpdateRepositoryOperationRequest {
  projectRef: string;
  repoRef: string;
  updateRepositoryRequest: UpdateRepositoryRequest;
}

/**
 * RepositoriesApi - interface
 *
 * @export
 * @interface RepositoriesApiInterface
 */
export interface RepositoriesApiInterface {
  /**
   *
   * @summary Add a repository to a project
   * @param {string} projectRef
   * @param {CreateRepositoryRequest} createRepositoryRequest
   * @param {*} [options] Override http request option.
   * @throws {RequiredError}
   * @memberof RepositoriesApiInterface
   */
  createRepositoryRaw(
    requestParameters: CreateRepositoryOperationRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<runtime.ApiResponse<Repository>>;

  /**
   * Add a repository to a project
   */
  createRepository(
    requestParameters: CreateRepositoryOperationRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<Repository>;

  /**
   *
   * @summary Remove a repository from a project
   * @param {string} projectRef
   * @param {string} repoRef Repository public ID (repo_xxx)
   * @param {*} [options] Override http request option.
   * @throws {RequiredError}
   * @memberof RepositoriesApiInterface
   */
  deleteRepositoryRaw(
    requestParameters: DeleteRepositoryRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<runtime.ApiResponse<void>>;

  /**
   * Remove a repository from a project
   */
  deleteRepository(
    requestParameters: DeleteRepositoryRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<void>;

  /**
   *
   * @summary Get a repository
   * @param {string} projectRef
   * @param {string} repoRef Repository public ID (repo_xxx)
   * @param {*} [options] Override http request option.
   * @throws {RequiredError}
   * @memberof RepositoriesApiInterface
   */
  getRepositoryRaw(
    requestParameters: GetRepositoryRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<runtime.ApiResponse<Repository>>;

  /**
   * Get a repository
   */
  getRepository(
    requestParameters: GetRepositoryRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<Repository>;

  /**
   *
   * @summary List repositories in a project
   * @param {string} projectRef
   * @param {*} [options] Override http request option.
   * @throws {RequiredError}
   * @memberof RepositoriesApiInterface
   */
  listRepositoriesRaw(
    requestParameters: ListRepositoriesRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<runtime.ApiResponse<RepositoryListResponse>>;

  /**
   * List repositories in a project
   */
  listRepositories(
    requestParameters: ListRepositoriesRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<RepositoryListResponse>;

  /**
   *
   * @summary Update a repository
   * @param {string} projectRef
   * @param {string} repoRef Repository public ID (repo_xxx)
   * @param {UpdateRepositoryRequest} updateRepositoryRequest
   * @param {*} [options] Override http request option.
   * @throws {RequiredError}
   * @memberof RepositoriesApiInterface
   */
  updateRepositoryRaw(
    requestParameters: UpdateRepositoryOperationRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<runtime.ApiResponse<Repository>>;

  /**
   * Update a repository
   */
  updateRepository(
    requestParameters: UpdateRepositoryOperationRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<Repository>;
}

/**
 *
 */
export class RepositoriesApi
  extends runtime.BaseAPI
  implements RepositoriesApiInterface
{
  /**
   * Add a repository to a project
   */
  async createRepositoryRaw(
    requestParameters: CreateRepositoryOperationRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<runtime.ApiResponse<Repository>> {
    if (requestParameters["projectRef"] == null) {
      throw new runtime.RequiredError(
        "projectRef",
        'Required parameter "projectRef" was null or undefined when calling createRepository().',
      );
    }

    if (requestParameters["createRepositoryRequest"] == null) {
      throw new runtime.RequiredError(
        "createRepositoryRequest",
        'Required parameter "createRepositoryRequest" was null or undefined when calling createRepository().',
      );
    }

    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    headerParameters["Content-Type"] = "application/json";

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token("bearerAuth", []);

      if (tokenString) {
        headerParameters["Authorization"] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/api/projects/{projectRef}/repositories`;
    urlPath = urlPath.replace(
      `{${"projectRef"}}`,
      encodeURIComponent(String(requestParameters["projectRef"])),
    );

    const response = await this.request(
      {
        path: urlPath,
        method: "POST",
        headers: headerParameters,
        query: queryParameters,
        body: CreateRepositoryRequestToJSON(
          requestParameters["createRepositoryRequest"],
        ),
      },
      initOverrides,
    );

    return new runtime.JSONApiResponse(response, (jsonValue) =>
      RepositoryFromJSON(jsonValue),
    );
  }

  /**
   * Add a repository to a project
   */
  async createRepository(
    requestParameters: CreateRepositoryOperationRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<Repository> {
    const response = await this.createRepositoryRaw(
      requestParameters,
      initOverrides,
    );
    return await response.value();
  }

  /**
   * Remove a repository from a project
   */
  async deleteRepositoryRaw(
    requestParameters: DeleteRepositoryRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<runtime.ApiResponse<void>> {
    if (requestParameters["projectRef"] == null) {
      throw new runtime.RequiredError(
        "projectRef",
        'Required parameter "projectRef" was null or undefined when calling deleteRepository().',
      );
    }

    if (requestParameters["repoRef"] == null) {
      throw new runtime.RequiredError(
        "repoRef",
        'Required parameter "repoRef" was null or undefined when calling deleteRepository().',
      );
    }

    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token("bearerAuth", []);

      if (tokenString) {
        headerParameters["Authorization"] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/api/projects/{projectRef}/repositories/{repoRef}`;
    urlPath = urlPath.replace(
      `{${"projectRef"}}`,
      encodeURIComponent(String(requestParameters["projectRef"])),
    );
    urlPath = urlPath.replace(
      `{${"repoRef"}}`,
      encodeURIComponent(String(requestParameters["repoRef"])),
    );

    const response = await this.request(
      {
        path: urlPath,
        method: "DELETE",
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.VoidApiResponse(response);
  }

  /**
   * Remove a repository from a project
   */
  async deleteRepository(
    requestParameters: DeleteRepositoryRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<void> {
    await this.deleteRepositoryRaw(requestParameters, initOverrides);
  }

  /**
   * Get a repository
   */
  async getRepositoryRaw(
    requestParameters: GetRepositoryRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<runtime.ApiResponse<Repository>> {
    if (requestParameters["projectRef"] == null) {
      throw new runtime.RequiredError(
        "projectRef",
        'Required parameter "projectRef" was null or undefined when calling getRepository().',
      );
    }

    if (requestParameters["repoRef"] == null) {
      throw new runtime.RequiredError(
        "repoRef",
        'Required parameter "repoRef" was null or undefined when calling getRepository().',
      );
    }

    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token("bearerAuth", []);

      if (tokenString) {
        headerParameters["Authorization"] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/api/projects/{projectRef}/repositories/{repoRef}`;
    urlPath = urlPath.replace(
      `{${"projectRef"}}`,
      encodeURIComponent(String(requestParameters["projectRef"])),
    );
    urlPath = urlPath.replace(
      `{${"repoRef"}}`,
      encodeURIComponent(String(requestParameters["repoRef"])),
    );

    const response = await this.request(
      {
        path: urlPath,
        method: "GET",
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.JSONApiResponse(response, (jsonValue) =>
      RepositoryFromJSON(jsonValue),
    );
  }

  /**
   * Get a repository
   */
  async getRepository(
    requestParameters: GetRepositoryRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<Repository> {
    const response = await this.getRepositoryRaw(
      requestParameters,
      initOverrides,
    );
    return await response.value();
  }

  /**
   * List repositories in a project
   */
  async listRepositoriesRaw(
    requestParameters: ListRepositoriesRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<runtime.ApiResponse<RepositoryListResponse>> {
    if (requestParameters["projectRef"] == null) {
      throw new runtime.RequiredError(
        "projectRef",
        'Required parameter "projectRef" was null or undefined when calling listRepositories().',
      );
    }

    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token("bearerAuth", []);

      if (tokenString) {
        headerParameters["Authorization"] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/api/projects/{projectRef}/repositories`;
    urlPath = urlPath.replace(
      `{${"projectRef"}}`,
      encodeURIComponent(String(requestParameters["projectRef"])),
    );

    const response = await this.request(
      {
        path: urlPath,
        method: "GET",
        headers: headerParameters,
        query: queryParameters,
      },
      initOverrides,
    );

    return new runtime.JSONApiResponse(response, (jsonValue) =>
      RepositoryListResponseFromJSON(jsonValue),
    );
  }

  /**
   * List repositories in a project
   */
  async listRepositories(
    requestParameters: ListRepositoriesRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<RepositoryListResponse> {
    const response = await this.listRepositoriesRaw(
      requestParameters,
      initOverrides,
    );
    return await response.value();
  }

  /**
   * Update a repository
   */
  async updateRepositoryRaw(
    requestParameters: UpdateRepositoryOperationRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<runtime.ApiResponse<Repository>> {
    if (requestParameters["projectRef"] == null) {
      throw new runtime.RequiredError(
        "projectRef",
        'Required parameter "projectRef" was null or undefined when calling updateRepository().',
      );
    }

    if (requestParameters["repoRef"] == null) {
      throw new runtime.RequiredError(
        "repoRef",
        'Required parameter "repoRef" was null or undefined when calling updateRepository().',
      );
    }

    if (requestParameters["updateRepositoryRequest"] == null) {
      throw new runtime.RequiredError(
        "updateRepositoryRequest",
        'Required parameter "updateRepositoryRequest" was null or undefined when calling updateRepository().',
      );
    }

    const queryParameters: any = {};

    const headerParameters: runtime.HTTPHeaders = {};

    headerParameters["Content-Type"] = "application/json";

    if (this.configuration && this.configuration.accessToken) {
      const token = this.configuration.accessToken;
      const tokenString = await token("bearerAuth", []);

      if (tokenString) {
        headerParameters["Authorization"] = `Bearer ${tokenString}`;
      }
    }

    let urlPath = `/api/projects/{projectRef}/repositories/{repoRef}`;
    urlPath = urlPath.replace(
      `{${"projectRef"}}`,
      encodeURIComponent(String(requestParameters["projectRef"])),
    );
    urlPath = urlPath.replace(
      `{${"repoRef"}}`,
      encodeURIComponent(String(requestParameters["repoRef"])),
    );

    const response = await this.request(
      {
        path: urlPath,
        method: "PUT",
        headers: headerParameters,
        query: queryParameters,
        body: UpdateRepositoryRequestToJSON(
          requestParameters["updateRepositoryRequest"],
        ),
      },
      initOverrides,
    );

    return new runtime.JSONApiResponse(response, (jsonValue) =>
      RepositoryFromJSON(jsonValue),
    );
  }

  /**
   * Update a repository
   */
  async updateRepository(
    requestParameters: UpdateRepositoryOperationRequest,
    initOverrides?: RequestInit | runtime.InitOverrideFunction,
  ): Promise<Repository> {
    const response = await this.updateRepositoryRaw(
      requestParameters,
      initOverrides,
    );
    return await response.value();
  }
}
