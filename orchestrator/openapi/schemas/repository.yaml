Repository:
  type: object
  properties:
    id:
      type: integer
    project_id:
      type: integer
    name:
      type: string
    path:
      type: string
    git_url:
      type: string
      nullable: true
    default_agent:
      type: string
      nullable: true
    status:
      type: string
      enum: [ready, error, syncing]
    last_sync_at:
      type: string
      format: date-time
      nullable: true
  required:
    - id
    - project_id
    - name
    - path
    - status

CreateRepositoryRequest:
  type: object
  properties:
    name:
      type: string
      minLength: 1
      maxLength: 100
    path:
      type: string
    git_url:
      type: string
      nullable: true
    default_agent:
      type: string
      nullable: true
  required:
    - name
    - path

UpdateRepositoryRequest:
  type: object
  properties:
    name:
      type: string
      minLength: 1
      maxLength: 100
    git_url:
      type: string
      nullable: true
    default_agent:
      type: string
      nullable: true

ValidateRepositoryRequest:
  type: object
  properties:
    path:
      type: string
      description: Local filesystem path to validate
  required:
    - path

ValidateRepositoryResponse:
  type: object
  properties:
    isValid:
      type: boolean
      description: Whether the path is a valid git repository
    isGitRepo:
      type: boolean
      description: Whether the directory contains a .git folder
    repoName:
      type: string
      description: Extracted repository name from path
    gitUrl:
      type: string
      nullable: true
      description: Git remote origin URL if configured
    error:
      type: string
      nullable: true
      description: Error message if validation failed
  required:
    - isValid
    - isGitRepo
    - repoName
    - gitUrl
